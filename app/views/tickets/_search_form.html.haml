.container
  %h1= t('search_ticket')
  .form-horizontal.well
    = form_tag("/tickets/search", method: "get", remote: true) do
      .form-group
        .field
          .col-xs-2
            = label_tag("keyword", t("keyword"), class: "control-label")
          .col-xs-6
            = text_field_tag(:keyword, params[:keyword], class: "form-control")
      .form-group
        .field
          .col-xs-2
            = label_tag("tag", t("tag"), class: "control-label")
          .col-xs-6
            = text_field_tag(:tag, params[:tag], class: "form-control")
          .col-xs-4
            = label_tag("AND", "AND", class: "control-label")
            = radio_button_tag(:method, "and", checked: true)
            = label_tag("OR", "OR", class: "control-label")
            = radio_button_tag(:method, "or")
      .form-group
        .field
          .col-xs-2
            .actions
              = submit_tag(t('search'), name: nil, class: "btn btn-default")
      :javascript
        $("a[data-toggle='tab']").on("shown.bs.tab", function(e) {
          var hash = e.target.hash;
          var tab_id = document.getElementById("tab_id");
          if (hash == "#keyword") {
            tab_id.value = "keyword";
          } else if(hash == "#tag") {
            tab_id.value = "tag";
          }
        })
      = hidden_field_tag(:tab_id, "keyword")
